# ğŸ”¥ Firebase è§„åˆ™éƒ¨ç½²æŒ‡å—

## ğŸ“‹ é—®é¢˜è§£å†³æ–¹æ¡ˆ

### ğŸ¯ **ä¸»è¦é—®é¢˜**
1. **è¯„è®ºæäº¤å¤±è´¥** - Firebaseå®‰å…¨è§„åˆ™ä¸åŒ¹é…
2. **å›¾ç‰‡ä¸Šä¼ æƒé™** - Storageè§„åˆ™éœ€è¦é…ç½®

### ğŸ› ï¸ **è§£å†³æ­¥éª¤**

#### 1. éƒ¨ç½²Firestoreè§„åˆ™
åœ¨Firebaseæ§åˆ¶å°ä¸­ (https://console.firebase.google.com/):

1. é€‰æ‹©æ‚¨çš„é¡¹ç›® `newtravelchina-36648`
2. è¿›å…¥ **Firestore Database** â†’ **è§„åˆ™**
3. æ›¿æ¢ä¸ºä»¥ä¸‹è§„åˆ™ï¼š

```javascript
rules_version = '2';

// Firestoreè§„åˆ™
service cloud.firestore {
  match /databases/{database}/documents {
    // å…¬å…±æ–‡ç«  - æ‰€æœ‰äººå¯è¯»ï¼Œä»…ç®¡ç†å‘˜å¯å†™
    match /articles/{articleId} {
      allow read: if true;
      allow write: if request.auth != null && request.auth.token.admin == true;
      
      // æ–‡ç« æµè§ˆè®°å½• - æ‰€æœ‰äººå¯è¯»å†™
      match /views/{viewId} {
        allow read, write: if true;
      }
    }
    
    // æ–‡ç« æµè§ˆè®°å½• - æ‰€æœ‰äººå¯è¯»ï¼Œå·²è®¤è¯ç”¨æˆ·å¯å†™
    match /article_views/{viewId} {
      allow read: if true;
      allow write: if request.auth != null;
    }
    
    // ç”¨æˆ·èµ„æ–™ - ä»…è‡ªå·±å¯è¯»å†™
    match /users/{userId} {
      allow read, write: if request.auth != null && request.auth.uid == userId;
    }
    
    // è¯„è®º - æ‰€æœ‰äººå¯è¯»ï¼Œå·²è®¤è¯ç”¨æˆ·å¯å†™å’Œæ›´æ–°ï¼Œåˆ›å»ºè€…å¯åˆ é™¤
    match /comments/{commentId} {
      allow read: if true;
      allow create: if request.auth != null;
      allow update: if request.auth != null;
      allow delete: if request.auth != null && 
                     (request.auth.uid == resource.data.userId || 
                      request.auth.token.admin == true);
    }
  }
}
```

#### 2. éƒ¨ç½²Storageè§„åˆ™
åœ¨Firebaseæ§åˆ¶å°ä¸­:

1. è¿›å…¥ **Storage** â†’ **è§„åˆ™**
2. æ›¿æ¢ä¸ºä»¥ä¸‹è§„åˆ™ï¼š

```javascript
rules_version = '2';
service firebase.storage {
  match /b/{bucket}/o {
    // å›¾ç‰‡ä¸Šä¼  - å·²è®¤è¯ç”¨æˆ·å¯ä¸Šä¼ å’Œè¯»å–
    match /{allPaths=**} {
      allow read: if true; // æ‰€æœ‰äººå¯è¯»å–å›¾ç‰‡
      allow write: if request.auth != null; // å·²è®¤è¯ç”¨æˆ·å¯ä¸Šä¼ 
    }
  }
}
```

### âœ… **å·²ä¿®å¤çš„åŠŸèƒ½**

#### ğŸ“ **è¯„è®ºç³»ç»Ÿ**
- âœ… ä¿®å¤äº†è¯„è®ºæäº¤æƒé™é—®é¢˜
- âœ… æ·»åŠ äº† `userId` å­—æ®µæ”¯æŒ
- âœ… ä¼˜åŒ–äº†é”™è¯¯å¤„ç†å’Œç”¨æˆ·åé¦ˆ

#### ğŸ–¼ï¸ **å›¾ç‰‡ä¸Šä¼ ç³»ç»Ÿ**
- âœ… æ–‡ç« å°é¢å›¾ç‰‡ä¸Šä¼ 
- âœ… æ–‡ç« å†…å®¹å›¾ç‰‡ä¸Šä¼ ï¼ˆè‡ªåŠ¨æ’å…¥HTMLï¼‰
- âœ… å®Œæ•´çš„å›¾ç‰‡ç®¡ç†å·¥å…·
- âœ… æ‹–æ‹½ä¸Šä¼ æ”¯æŒ

#### ğŸ”§ **ç®¡ç†å‘˜åŠŸèƒ½**
- âœ… å¯Œæ–‡æœ¬ç¼–è¾‘æ”¯æŒ
- âœ… å›¾ç‰‡å¿«é€Ÿæ’å…¥å·¥å…·
- âœ… HTMLæ ‡ç­¾æç¤º
- âœ… æ–‡ç« é¢„è§ˆåŠŸèƒ½

### ğŸš€ **æ–°å¢åŠŸèƒ½**

1. **åŒå›¾ç‰‡ä¸Šä¼ å™¨**:
   - å°é¢å›¾ç‰‡ä¸Šä¼ 
   - å†…å®¹å›¾ç‰‡ä¸Šä¼ ï¼ˆè‡ªåŠ¨æ’å…¥åˆ°æ–‡ç« ä¸­ï¼‰

2. **å¯Œæ–‡æœ¬æ”¯æŒ**:
   - HTMLæ ‡ç­¾æ”¯æŒ
   - å›¾ç‰‡è‡ªåŠ¨æ’å…¥
   - æ ·å¼åŒ–å†…å®¹

3. **å¢å¼ºçš„ç”¨æˆ·ä½“éªŒ**:
   - è¯¦ç»†çš„é”™è¯¯æ¶ˆæ¯
   - ä¸Šä¼ è¿›åº¦æ˜¾ç¤º
   - å›¾ç‰‡é¢„è§ˆåŠŸèƒ½

### ğŸ“ **ä½¿ç”¨è¯´æ˜**

#### ç®¡ç†å‘˜å‘å¸ƒæ–‡ç« ï¼š
1. ç™»å½•ç®¡ç†å‘˜è´¦æˆ·
2. ä¸Šä¼ å°é¢å›¾ç‰‡
3. ä½¿ç”¨"Content Images"ä¸Šä¼ å™¨æ·»åŠ æ–‡ç« ä¸­çš„å›¾ç‰‡
4. åœ¨æ–‡ç« å†…å®¹ä¸­ç¼–å†™æ–‡å­—ï¼ˆå›¾ç‰‡ä¼šè‡ªåŠ¨æ’å…¥ï¼‰
5. å‘å¸ƒæ–‡ç« 

#### ç”¨æˆ·è¯„è®ºï¼š
1. ç¡®ä¿å·²ç™»å½•Googleè´¦æˆ·
2. å¡«å†™è¯„è®ºå†…å®¹
3. é€‰æ‹©ç›¸å…³æ ‡ç­¾
4. æäº¤è¯„è®º

### ğŸ” **æ•…éšœæ’é™¤**

å¦‚æœè¯„è®ºä»ç„¶å¤±è´¥ï¼š
1. ç¡®ä¿è§„åˆ™å·²æ­£ç¡®éƒ¨ç½²
2. æ£€æŸ¥ç”¨æˆ·æ˜¯å¦å·²æ­£ç¡®ç™»å½•
3. æŸ¥çœ‹æµè§ˆå™¨æ§åˆ¶å°çš„é”™è¯¯ä¿¡æ¯
4. ç¡®è®¤Firebaseé¡¹ç›®é…ç½®æ­£ç¡®

### ğŸ“ **æŠ€æœ¯æ”¯æŒ**
å¦‚æœ‰é—®é¢˜ï¼Œè¯·æ£€æŸ¥ï¼š
- Firebaseæ§åˆ¶å°çš„é”™è¯¯æ—¥å¿—
- æµè§ˆå™¨å¼€å‘è€…å·¥å…·çš„æ§åˆ¶å°
- ç½‘ç»œè¿æ¥çŠ¶æ€ 